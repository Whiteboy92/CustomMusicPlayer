<Window x:Class="MusicPlayer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:customTitleBar="clr-namespace:MusicPlayer.Views.CustomTitleBar"
        xmlns:playlist="clr-namespace:MusicPlayer.Views.Playlist"
        xmlns:player="clr-namespace:MusicPlayer.Views.Player"
        xmlns:equalizer="clr-namespace:MusicPlayer.Views.Equalizer"
        xmlns:statistics="clr-namespace:MusicPlayer.Views.Statistics"
        xmlns:settings="clr-namespace:MusicPlayer.Views.Settings"
        mc:Ignorable="d"
        Title="Music Player" Height="600" Width="900"
        MinHeight="540" MinWidth="800"
        Icon="Assets/icon.ico"
        Background="#202020"
        WindowStyle="None"
        ResizeMode="CanResize"
        AllowsTransparency="False"
        BorderBrush="#333333"
        BorderThickness="2">
    
    <!-- Custom Title Bar Configuration -->
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="32" 
                      ResizeBorderThickness="5" 
                      GlassFrameThickness="0"
                      CornerRadius="0"/>
    </WindowChrome.WindowChrome>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="32"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Custom Title Bar -->
        <customTitleBar:CustomTitleBar Grid.Row="0"/>
        
        <!-- Main Content Area with Tabs -->
        <TabControl Grid.Row="1" 
                    Margin="20"
                    Background="Transparent"
                    BorderThickness="0">
            <TabControl.Resources>
                <Style TargetType="TabItem">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="TabItem">
                                <Border Name="Border" 
                                        Background="#2d2d2d" 
                                        BorderThickness="1,1,1,0" 
                                        BorderBrush="#333333"
                                        CornerRadius="5,5,0,0"
                                        Padding="20,10"
                                        Margin="0,0,5,0">
                                    <ContentPresenter x:Name="ContentSite"
                                                     VerticalAlignment="Center"
                                                     HorizontalAlignment="Center"
                                                     ContentSource="Header"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#1a4d7a"/>
                                        <Setter TargetName="Border" Property="BorderBrush" Value="#2563a3"/>
                                    </Trigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#404040"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </TabControl.Resources>

            <!-- Player Tab -->
            <TabItem>
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="&#xE189;" FontFamily="Segoe MDL2 Assets" FontSize="22" Margin="0,0,15,0"/>
                        <TextBlock Text="Player" 
                                   Foreground="{StaticResource TextBrush}" 
                                   FontSize="14"
                                   FontWeight="SemiBold"/>
                    </StackPanel>
                </TabItem.Header>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Playlist Area -->
                    <playlist:PlaylistView Grid.Row="0" x:Name="PlaylistView" Margin="0,0,0,10"/>
                    
                    <!-- Player Controls -->
                    <player:PlayerControlsView Grid.Row="1" x:Name="PlayerControlsView"/>
                </Grid>
            </TabItem>

            <!-- Equalizer Tab -->
            <TabItem>
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="&#xE9E9;" FontFamily="Segoe MDL2 Assets" FontSize="22" Margin="0,0,15,0"/>
                        <TextBlock Text="Equalizer" 
                                   Foreground="{StaticResource TextBrush}" 
                                   FontSize="14"
                                   FontWeight="SemiBold"/>
                    </StackPanel>
                </TabItem.Header>
                <equalizer:EqualizerView x:Name="EqualizerView" Margin="0,10,0,0"/>
            </TabItem>

            <!-- Statistics Tab -->
            <TabItem>
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="&#xE9D2;" FontFamily="Segoe MDL2 Assets" FontSize="22" Margin="0,0,15,0"/>
                        <TextBlock Text="Statistics" 
                                   Foreground="{StaticResource TextBrush}" 
                                   FontSize="14"
                                   FontWeight="SemiBold"/>
                    </StackPanel>
                </TabItem.Header>
                <statistics:StatisticsView x:Name="StatisticsView" Margin="0,10,0,0"/>
            </TabItem>

            <!-- Settings Tab -->
            <TabItem>
                <TabItem.Header>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="&#xE713;" FontFamily="Segoe MDL2 Assets" FontSize="22" Margin="0,0,15,0"/>
                        <TextBlock Text="Settings" 
                                   Foreground="{StaticResource TextBrush}" 
                                   FontSize="14"
                                   FontWeight="SemiBold"/>
                    </StackPanel>
                </TabItem.Header>
                <settings:SettingsView x:Name="SettingsView" Margin="0,10,0,0"/>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
